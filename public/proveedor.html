<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Experiencias Locales</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <div id="experiencias-view" class="view active">
        <nav class="navbar">
            <div class="nav-content">
                <div class="nav-brand">Experiencias Locales</div>
                <div class="nav-menu">
                    <button class="btn-logout" onclick="navigateTo('login-view')">Salir</button>
                </div>
            </div>
        </nav>
        <div class="content-wrapper">
            <div class="hero-section">
                <h1>Explora Experiencias</h1>
                <p>Selecciona una actividad para ver detalles</p>
            </div>
            <div class="experiences-grid">
                <div class="experience-card" onclick="seleccionarExperiencia('Taller de Cer√°mica', 'Mar√≠a Gonz√°lez', 450, '15 Dic 2025')">
                    <div class="card-image">
                        <div class="card-emoji">üè∫</div>
                        <span class="card-badge">Artesan√≠as</span>
                    </div>
                    <div class="card-content">
                        <h3>Taller de Cer√°mica</h3>
                        <p class="provider">Por Mar√≠a Gonz√°lez</p>
                        <div class="card-footer">
                            <div class="price">$450</div>
                        </div>
                    </div>
                </div>
                <div class="experience-card" onclick="seleccionarExperiencia('Tour Gastron√≥mico', 'Chef Roberto', 890, '18 Dic 2025')">
                    <div class="card-image" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);">
                        <div class="card-emoji">üåÆ</div>
                        <span class="card-badge">Comida</span>
                    </div>
                    <div class="card-content">
                        <h3>Tour Gastron√≥mico</h3>
                        <p class="provider">Por Chef Roberto</p>
                        <div class="card-footer">
                            <div class="price">$890</div>
                        </div>
                    </div>
                </div>
                <div class="experience-card" onclick="seleccionarExperiencia('Clase de Baile', 'Grupo Salsa', 350, '20 Dic 2025')">
                    <div class="card-image" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);">
                        <div class="card-emoji">üíÉ</div>
                        <span class="card-badge">Cultural</span>
                    </div>
                    <div class="card-content">
                        <h3>Clase de Baile</h3>
                        <p class="provider">Por Grupo Salsa</p>
                        <div class="card-footer">
                            <div class="price">$350</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="detalle-view" class="view">
        <nav class="navbar">
            <div class="nav-content">
                <div class="nav-brand">Detalle</div>
                <div class="nav-menu">
                    <a href="#" class="nav-link" onclick="navigateTo('experiencias-view')">‚Üê Volver</a>
                </div>
            </div>
        </nav>
        <div class="detail-container">
            <div class="detail-header">
                <div class="detail-image"><div class="detail-emoji">‚ú®</div></div>
                <div class="detail-info">
                    <h1 id="detail-title">T√≠tulo Experiencia</h1>
                    <p class="provider-name" id="detail-provider">Proveedor</p>
                </div>
            </div>
            <div class="detail-content">
                <div class="detail-main">
                    <section class="detail-section">
                        <h2>Descripci√≥n</h2>
                        <p>Disfruta de una experiencia inolvidable con los mejores anfitriones locales.</p>
                    </section>
                </div>
                <div class="detail-sidebar">
                    <div class="booking-card">
                        <div class="booking-price">
                            <span class="price-amount" id="detail-price">$0</span>
                        </div>
                        <button class="btn-book" onclick="prepararPago()">Reservar Ahora</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="pago-view" class="view">
        <nav class="navbar"><div class="nav-content"><div class="nav-brand">Pago Seguro</div></div></nav>
        <div class="payment-container">
            <div class="payment-content">
                <div class="payment-main">
                    <h1>Resumen de Pago</h1>
                    <div class="payment-form">
                        <div class="form-group">
                            <label>N√∫mero de Tarjeta (Simulado)</label>
                            <input type="text" placeholder="1234 5678 9012 3456">
                        </div>
                        <button type="button" class="btn-pay" onclick="procesarPago()">Pagar Total</button>
                    </div>
                </div>
                <div class="payment-summary">
                    <div class="summary-card">
                        <h3 id="pay-title">Experiencia</h3>
                        <p id="pay-provider">Proveedor</p>
                        <div class="pricing-row total">
                            <strong>Total a Pagar</strong>
                            <strong id="pay-total">$0</strong>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="confirmacion-view" class="view">
        <div class="confirmation-container">
            <div class="confirmation-content">
                <div class="success-icon">‚úÖ</div>
                <h1>¬°Reserva Confirmada!</h1>
                <div class="confirmation-card">
                    <div class="confirmation-number">
                        <span class="label">C√≥digo de Reserva:</span>
                        <span class="number" id="conf-id">...</span>
                    </div>
                </div>
                <button class="btn-primary" onclick="navigateTo('experiencias-view')">Volver al Inicio</button>
            </div>
        </div>
    </div>

    <div id="admin-view" class="view">
        <nav class="navbar navbar-admin">
            <div class="nav-content">
                <div class="nav-brand">Panel Admin</div>
                <button class="btn-logout" onclick="navigateTo('login-view')">Salir</button>
            </div>
        </nav>
        <div class="dashboard-container">
            <h1>Bienvenido Administrador</h1>
            <p>Aqu√≠ ver√≠as la gesti√≥n de experiencias.</p>
        </div>
    </div>

    <div id="proveedor-view" class="view">
        <nav class="navbar">
            <div class="nav-content">
                <div class="nav-brand">Panel Proveedor</div>
                <button class="btn-logout" onclick="navigateTo('login-view')">Salir</button>
            </div>
        </nav>
        <div class="dashboard-container">
            <h1>Bienvenido Proveedor</h1>
            <p>Aqu√≠ gestionar√≠as tus experiencias.</p>

            <section class="create-experience-section">
                <div class="create-header">
                    <h2>Crear Nueva Experiencia</h2>
                    <button id="btn-open-create" class="btn-primary" onclick="openCreateExperienceForm()">Crear experiencia</button>
                </div>

                <form id="create-experience-form" class="create-form" style="display:none; margin-top:16px;">
                    <div class="form-group">
                        <label for="exp-nombre">Nombre</label>
                        <input id="exp-nombre" type="text" required>
                    </div>
                    <div class="form-group">
                        <label for="exp-descripcion">Descripci√≥n</label>
                        <textarea id="exp-descripcion" rows="4" required></textarea>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="exp-fecha">Fecha</label>
                            <input id="exp-fecha" type="date" required>
                        </div>
                        <div class="form-group">
                            <label for="exp-cupo">Cupo</label>
                            <input id="exp-cupo" type="number" min="1" required>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="exp-precio">Precio (MXN)</label>
                            <input id="exp-precio" type="number" step="0.01" min="0" required>
                        </div>
                        <div class="form-group">
                            <label for="exp-ubicacion">Ubicaci√≥n</label>
                            <input id="exp-ubicacion" type="text" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="exp-imagen">Imagen (URL, opcional)</label>
                        <input id="exp-imagen" type="text" placeholder="https://...">
                    </div>

                    <div class="form-actions">
                        <button type="button" class="btn-secondary" onclick="closeCreateExperienceForm()">Cancelar</button>
                        <button type="button" class="btn-primary" onclick="handleCreateExperienceSubmit()">Guardar experiencia</button>
                    </div>
                    <div id="create-feedback" style="margin-top:8px;color:green;display:none;"></div>
                </form>

                <div id="mis-experiencias" style="margin-top:24px;">
                    <h3>Mis experiencias</h3>
                    <div id="experiencias-list" class="experiences-list">
                        <!-- Lista renderizada por JS -->
                    </div>
                </div>
            </section>
        </div>
    </div>

    <script src="js/proveedor.js"></script>
</body>
</html>